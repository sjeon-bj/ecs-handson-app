<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/base :: layout(~{::title}, ~{::content})}">
<head>
    <title>画像メモ作成</title>
</head>
<body>
    <div th:fragment="content" class="container">
        <div th:replace="~{fragments/common :: page-title-large('add_a_photo', '#FF9800', '画像メモ作成')}"></div>

        <form th:action="@{/memos}"
              method="post"
              th:object="${memo}"
              enctype="multipart/form-data"
              aria-labelledby="form-title">

            <div class="form-group">
                <label for="title" class="icon-label">
                    <span class="material-icons" aria-hidden="true">title</span>
                    <span>タイトル</span>
                </label>
                <input type="text"
                       id="title"
                       th:field="*{title}"
                       required
                       aria-required="true"
                       aria-describedby="title-error">
                <div id="title-error"
                     class="error"
                     th:if="${#fields.hasErrors('title')}"
                     th:errors="*{title}"
                     role="alert">
                </div>
            </div>

            <div class="form-group">
                <label for="description" class="icon-label">
                    <span class="material-icons" aria-hidden="true">description</span>
                    <span>説明</span>
                </label>
                <textarea id="description"
                          th:field="*{description}"
                          aria-describedby="description-error">
                </textarea>
                <div id="description-error"
                     class="error"
                     th:if="${#fields.hasErrors('description')}"
                     th:errors="*{description}"
                     role="alert">
                </div>
            </div>

            <div class="form-group">
                <label for="image" class="icon-label">
                    <span class="material-icons" aria-hidden="true">image</span>
                    <span>画像ファイル</span>
                </label>
                <input type="file"
                       id="image"
                       name="image"
                       accept="image/*"
                       required
                       aria-required="true">
            </div>

            <div class="error"
                 th:if="${#fields.hasErrors('global')}"
                 th:errors="*{global}"
                 role="alert">
            </div>

            <button type="submit" class="btn btn--primary btn--full btn--submit" aria-label="画像メモを作成">
                <span class="material-icons" aria-hidden="true">save</span>
                作成
            </button>
        </form>

        <div class="mt-6">
            <a href="/memos" class="btn btn--secondary btn--full" aria-label="一覧に戻る">
                <span class="material-icons" aria-hidden="true">arrow_back</span>
                一覧に戻る
            </a>
        </div>
    </div>
</body>
</html>
